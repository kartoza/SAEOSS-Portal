{% ckan_extends %}


{% block content %}
  <div class="container">
    
    {% if h.check_access('organization_create') %}
      <div style="float:right; margin-top: 20px;">
        {% link_for _('Add Organisation'), named_route=group_type+'.new', class_='btn btn-primary', icon='plus-square' %}
      </div>
    {% endif %}
    <br>
    <h1 class="left-align blue-text heading-margin">{{ _("Organisations") }}</h1>
    
    {% block organizations_search_form %}
      <div class="search-form-container-parent" >
        {% snippet 'snippets/search_form.html', form_id='organization-search-form', type='organization', query=q, sorting_selected=sort_by_selected, count=page.item_count, placeholder=_('Search organisations...'), show_empty=request.params, no_bottom_border=true if page.items, sorting = [(_('Name Ascending'), 'title asc'), (_('Name Descending'), 'title desc')] %}
      </div>
    {% endblock %}
    
    {% block organizations_list %}
      {% if page.items or request.params %}
        {% if page.items %}
          {% snippet "organization/snippets/organization_list.html", organizations=page.items %}
        {% endif %}
      {% else %}
        <p class="empty">
          {{ _('There are currently no organisations for this site') }}.
          {% if h.check_access('organization_create') %}
            {% link_for _('How about creating one?'), named_route=group_type+'.new' %}</a>.
          {% endif %}
        </p>
      {% endif %}
    {% endblock %}
    {% block page_pagination %}
      {{ page.pager(q=q or '', sort=sort_by_selected or '') }}
    {% endblock %}
  </div>
{% endblock %}
